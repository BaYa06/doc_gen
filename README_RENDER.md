# Deploy на Render (Free)

## 1) Репозиторий
Залейте содержимое этой папки в GitHub (или подключите напрямую в Render через "Connect Repository").

## 2) Создание сервиса
- Войдите на https://render.com → New → **Web Service** → выберите ваш репозиторий.
- Render увидит `render.yaml` и подставит команды автоматически:
  - Build: `pip install -r requirements.txt`
  - Start: `gunicorn app:app -b 0.0.0.0:$PORT -w 2 --threads 8`
- Нажмите **Create Web Service**. Дождитесь зелёного статуса.

## 3) Проверка
После деплоя откройте URL сервиса (вида `https://<name>.onrender.com`):
- Главная: `/`
- Здоровье: `/health`
- Генерация: `POST /docx`

## 4) Кастомный домен (бесплатно с Auto-SSL)
- Зайдите в **Settings** → **Custom Domains** → **Add Custom Domain**.
- Введите ваш домен (например, `doc.avangard.kg`) и следуйте инструкции Render:
  - Создайте **CNAME** записи у вашего регистратора (укажите на `<your-service>.onrender.com`).
  - Подождите валидацию DNS → Render сам выпустит SSL-сертификат (Let's Encrypt).
- Готово: ваш сервис доступен по вашему домену с HTTPS.

## Примечания
- Локальные файлы (например, счётчик `data/contract_seq.txt`) на бесплатных сервисах лучше не считать постоянным хранилищем. 
  При перезапусках/деплоях значение может сбрасываться. Для стабильного номера используйте внешний стор (Redis/Postgres).
- Минимальные требования уже учтены: `gunicorn` добавлен, Flask работает на `$PORT`, статика и шаблоны подключены.
